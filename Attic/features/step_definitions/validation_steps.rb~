#require "rkwalify"
require "yaml"

Given("a YAML file {string}") do |path|
  @yaml_data = YAML.load_file(path)
end

When("I validate it with the schema {string}") do |schema_path|
  schema = YAML.load_file(schema_path)
  validator = Rkwalify::Validator.new(schema)
  @errors = validator.validate(@yaml_data)
end

Then("the validation should pass") do
  expect(@errors).to be_empty
end

Then("the validation should fail") do
  expect(@errors).not_to be_empty
end
